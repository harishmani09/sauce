{% extends "base.html" %}
{% load static %}
{% block title %}{{product.name}}{% endblock title %}
{% block content %}
    <div class="card shadow-custom border-0 col-lg-8 mx-auto">
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <img src="{{ product.image.url }}" alt="" class="img-fluid rounded-0">
            </div>
            <div class="col-lg-6">
                <div class="top">
                    <h2 class="mt-4 font-weight-bold text-grey">
                        {{ product.name }}
                    </h2>
                    <div>
                        <span class="font-weight-bold text-grey">
                            Hotenss: <span>{{product.shu}} SHU</span>
                        </span>
                    </div>
                </div>
                <span class="font-weight-bold text-grey">
                    Volume: <span>100ml</span>
                </span>
            </div>
        </div>
        <div class="mt-3">
            {{ product.description }}
        </div>
        {% if product.available %}
            <div class="alert alert-success my-3 text-center">
                Available
            </div>
        {% else %}
        <div class="alert   alert-danger my-3 text-center">
            Currently unavailable
        </div>
        {% endif %}

<div class="mb-4">
<form>
    <span class="input-group add-to-cart shadow-custom">
    <div class="input-group-prepend">
    <span class="input-group-text
    font-weight-bold px-3 btn btn-block price">
    ${{ product.price }}
    </span>
    </div>
    <span id="minus" class="input-group-text button_minus px-4">
    -
    </span>
    <input type="number" value="1" class="form-control
    text-center px-3">
    <span id="plus" class="input-group-text button_plus px-4">
    +
    </span>
    <div class="input-group-append">
    <button class="btn btn-danger px-4 reduce_padding"
    type="submit" data-toggle="tooltip"
    data-placement="top" title="Add to cart">
    <i class="fas fa-shopping-cart">Add to cart</i>
    </button>
    </div>
    </span>
</form>
</div>
</div>
<div class="mb-2">

<div class="review">
    <span class="font-weight-bold text-grey"> </span>
<p class="text-2xl">Average rating: 4.5/5.0</p>
<form 
hx-post="{% url 'product_review' category_slug=product.category.slug product_slug=product.slug %}"
hx-target="#review"
hx-swap="textContent">
>
    {% csrf_token %}
  <label for="review" class="block text-sm/6 font-medium text-gray-900">Add your comment</label>
  <div class="mt-2">
    <textarea rows="4" name="review" id="review" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"></textarea>
  </div>
   <div class="mt-2 flex justify-end">
    <button type="submit" class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Post</button>
  </div>
  
</form>
<div id="review"></div>
</div>
</div>

{% endblock content %}